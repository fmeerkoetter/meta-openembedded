From b8dc608dad7d9fc3a4c16acd0327d97b81c23b95 Mon Sep 17 00:00:00 2001
From: Khem Raj <raj.khem@gmail.com>
Date: Tue, 15 Nov 2016 01:32:31 +0000
Subject: [PATCH] apps/CMakeLists.txt: Explicitly link libbfb and libmulticobex

Transitive linking is disabled now for multicobex and
obexftp, This ends up with linking errors for apps, therefore
they are required to be added to link line explicitly.

Signed-off-by: Khem Raj <raj.khem@gmail.com>
---
 apps/CMakeLists.txt | 13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

diff --git a/apps/CMakeLists.txt b/apps/CMakeLists.txt
index b5c84e4..63af134 100644
--- a/apps/CMakeLists.txt
+++ b/apps/CMakeLists.txt
@@ -5,14 +5,23 @@ add_definitions( -DVERSION="${obexftp_VERSION}" )
 add_definitions ( -DHAVE_USB )
 
 add_executable ( obexftp_app obexftp.c )
-target_link_libraries ( obexftp_app obexftp )
+target_link_libraries ( obexftp_app
+  PRIVATE multicobex
+  PRIVATE bfb
+  obexftp
+)
 set_target_properties ( obexftp_app PROPERTIES
   OUTPUT_NAME obexftp
 )
 
 
 add_executable ( obexftpd_app obexftpd.c )
-target_link_libraries ( obexftpd_app obexftp openobex )
+target_link_libraries ( obexftpd_app
+  PRIVATE multicobex
+  PRIVATE bfb
+  obexftp
+  openobex
+)
 set_target_properties ( obexftpd_app PROPERTIES
   OUTPUT_NAME obexftpd
 )
-- 
1.9.1

